<html>
<head>
<link rel="stylesheet" href="styles.css" type="text/css">
<script language="javascript" src="jquery.min.js"></script>
<script language="javascript" src="api_test.js"></script>


<script>
var testInfo = {
    "search_init":{
        "string_fields":[
        ]
        ,"numeric_fields":[
        ]
        ,"required_fields":[]
        ,"url":"/glycan/search_init"
        ,"query":{
        }
    },
    "glycan_search_simple":{
        "string_fields":[
            "query_type", "operation", "term", "term_category [glycan|protein|organism|enzyme]"
        ]
        ,"numeric_fields":[
        ]
        ,"required_fields":["term", "term_category"]
        ,"url":"/glycan/search_simple"
        ,"query":{"term_category":"glycan","term":"G17689DH"}
    },
    "glycan_search":{
        "string_fields":[
            "query_type","operation","version","glytoucan_ac","glycan_motif",
            "glycan_identifier.glycan_id [comma separated identfiers]",
            "glycan_identifier.subsumption [subsumes|subsumedby|ancestor|descendant|any|none]",
            "protein_identifier","glycan_type", "glycan_name","mass_type", "pmid",
            "binding_protein_id", "glycan_subtype",
            "organism.organism_list.name", "organism.annotation_category",
            "organism.operation", "composition.residue",
            "enzyme.id", "enzyme.type",
            "subsumption.related_ac",
            "id_namespace"
        ]
        ,"numeric_fields":[
            "organism.organism_list.id","mass.min", "mass.max",
            "composition.min", "composition.max", 
            "number_monosaccharides.min", "number_monosaccharides.max"
        ]
        ,"required_fields":[]
        ,"url":"/glycan/search"
        ,"querylist":[
            {
                "label":"Query by GlyTouCan IDs",
                "query":{
                    "glycan_identifier":{"glycan_id":"G17689DH,G01543ZX,G00009BX",
                        "subsumption":"subsumedby"}
                }
            }
            ,{
                "label":"Query by organism",
                "query":{
                    "organism":{
                        "organism_list":[{"id":9606, "name":"homo"},
                        {"id":10090, "name":"mus"}]
                        ,"operation":"and"
                        ,"annotation_category":"direct"
                    }
                }
            }
            ,{
                "label":"Query by composition expanded",
                "query":{
                  "composition_expanded": [
                        {"residue":"hex", "min":1, "max":3},
                        {"residue":"gal", "min":1, "max":3},
                        {"residue":"glc", "min":1, "max":3}
                    ]
                }
            }
            ,{
                "label":"Query by composition collapsed",
                "query":{
                  "composition": [
                        {"residue":"hex", "min":1, "max":3},
                        {"residue":"hexnac", "min":1, "max":3}
                    ]
                }
            }
        ]
    }
    ,"glycan_list": {
        "string_fields": [
            "sort", 
            "id", 
            "order"
        ], 
        "url": "/glycan/list/", 
        "required_fields": [
            "id"
        ], 
        "numeric_fields": [
            "offset", 
            "limit"
        ] 
        ,"querylist":[
            {
                "label":"Simple listing",
                "query":{
                    "id":""
                }
            }
            ,{
                "label":"Listing with filters",
                "query":{
                    "id":"",
                    "filters":[
                        {   
                            "id":"by_mass",
                            "selected":["2k_3k", "3k_4k"],
                            "operator":"OR"
                        }
                    ]
                }
            }
        ]
    }
    ,"glycan_detail": {
        "string_fields": [
            "glytoucan_ac"
        ],
        "url": "/glycan/detail/",
        "required_fields": [
            "glytoucan_ac"
        ],
        "numeric_fields": [],
        "query":"G17689DH",
        "semantic":true
    }
    ,"glycan_image": {
        "string_fields": [
            "glytoucan_ac"
        ],
        "url": "/glycan/image/",
        "required_fields": [
            "glytoucan_ac"
        ],
        "numeric_fields": [],
        "query":"G17689DH",
        "semantic":true

    }
};


/////////////////////////////
$(document ).ready(function() {

    var cnList = [];
    var apiList = Object.keys(testInfo);
    cnList.push(getAutomatedCn(testInfo, apiList));

    var cn = '<table align=center width=1000 border=1 style="background:#eee;">';
    for (var i in cnList){
        cn += cnList[i];
    }
    cn += '</table>';
    $("body").html(cn);

});


</script>

</head>
<body>

</body>
<html>
